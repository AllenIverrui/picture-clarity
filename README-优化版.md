# 图片高清化工具 - 优化版

## 🎯 优化功能

### 前端流程优化
1. **上传图片** - 支持拖拽/选择文件，无大小限制
2. **原图预览** - 即时显示缩略图和文件信息
3. **高清化处理** - 点击按钮调用后端API
4. **左右滑动对比** - 实时对比原图与高清图
5. **多种导出** - 支持JPG/PNG格式下载

### 核心特性

#### 🖼️ 智能上传
- 支持拖拽上传
- 支持点击选择文件
- **无文件大小限制**
- 支持JPG、PNG、GIF、BMP格式
- 实时显示文件信息（大小、类型）

#### 👀 原图预览
- 上传后立即显示缩略图
- 显示详细文件信息
- 支持点击放大预览

#### ⚡ 高清化处理
- **传统增强**：快速处理，适合一般用途
- **质量优先**：最高质量，处理较慢
- 实时进度提示
- 错误处理和重试机制

#### 🔄 左右滑动对比
- **交互式滑块**：拖动滑块查看对比效果
- **实时对比**：原图与高清图实时切换
- **全屏模式**：支持全屏对比查看
- **重置功能**：一键重置到中间位置

#### 💾 多种导出选项
- **JPG格式**：适合照片类图片
- **PNG格式**：保持透明背景
- **批量下载**：同时下载原图+高清图
- **智能命名**：自动生成文件名

## 🚀 快速启动

### 方法一：一键启动（推荐）
```bash
# Windows用户直接双击
start.bat
```

### 方法二：手动启动
```bash
# 后端服务
cd backend
pip install -r requirements-simple.txt
python app-simple.py

# 前端服务
cd frontend
npm install
npm run dev
```

## 📱 使用流程

1. **上传图片**
   - 拖拽图片到上传区域
   - 或点击选择文件
   - 查看原图预览和文件信息

2. **选择增强方法**
   - 传统增强：快速处理
   - 质量优先：最高质量

3. **开始高清化**
   - 点击"开始高清化"按钮
   - 等待处理完成

4. **对比效果**
   - 拖动滑块查看对比
   - 支持全屏对比模式
   - 点击重置回到中间

5. **导出下载**
   - 选择JPG或PNG格式
   - 或同时下载原图+高清图

## 🛠️ 技术架构

### 前端技术栈
- **Vue 3** - 渐进式JavaScript框架
- **Element Plus** - UI组件库
- **Vite** - 构建工具
- **Axios** - HTTP客户端

### 后端技术栈
- **Sanic** - 高性能异步Web框架
- **OpenCV** - 图像处理
- **NumPy** - 数值计算
- **aiofiles** - 异步文件操作

### 图像处理算法
- **双三次插值** - 高质量图像放大
- **降噪处理** - 去除图像噪点
- **锐化增强** - 提升图像清晰度
- **对比度增强** - 改善图像质量
- **边缘保持滤波** - 保持图像细节

## 🎨 界面特色

### 现代化设计
- 渐变背景和圆角设计
- 响应式布局适配各种设备
- 流畅的动画效果
- 直观的操作反馈

### 交互体验
- 拖拽上传支持
- 实时预览功能
- 滑动对比交互
- 多种下载选项

### 用户体验
- 无文件大小限制
- 实时进度提示
- 错误处理机制
- 操作引导提示

## 🔧 配置说明

### 后端配置
```python
# backend/app-simple.py
app.config.MAX_CONTENT_LENGTH = 0  # 无文件大小限制
app.config.UPLOAD_FOLDER = "uploads"  # 上传目录
```

### 前端配置
```javascript
// frontend/vite.config.js
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://localhost:8000',
      changeOrigin: true
    }
  }
}
```

## 📊 性能优化

### 图像处理优化
- 异步处理避免阻塞
- 内存优化和垃圾回收
- 临时文件自动清理
- 错误恢复机制

### 前端优化
- 组件懒加载
- 图片压缩和缓存
- 响应式设计
- 触摸设备支持

## 🐛 故障排除

### 常见问题

1. **依赖安装失败**
   ```bash
   # 更新pip
   python -m pip install --upgrade pip
   
   # 清理缓存
   pip cache purge
   
   # 重新安装
   pip install -r requirements-simple.txt
   ```

2. **端口被占用**
   ```bash
   # 修改后端端口
   # backend/app-simple.py
   app.run(host="0.0.0.0", port=8001, debug=True)
   
   # 修改前端代理
   # frontend/vite.config.js
   proxy: {
     '/api': {
       target: 'http://localhost:8001',
       changeOrigin: true
     }
   }
   ```

3. **大文件处理慢**
   - 使用传统增强方法
   - 检查系统内存
   - 关闭其他程序

## 📈 版本更新

### v2.1.0 (当前版本)
- ✅ 移除文件大小限制
- ✅ 添加左右滑动对比功能
- ✅ 优化前端用户体验
- ✅ 简化后端依赖
- ✅ 支持多种导出格式

### v2.0.0
- ✅ Vue3 + Sanic架构
- ✅ 前后端分离
- ✅ 异步图像处理
- ✅ 现代化UI界面

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交Issue和Pull Request！

---

**享受高清化的乐趣！** 🎉